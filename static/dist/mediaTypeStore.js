import{M as b,h as w,e as t}from"./main.js";const k=b("mediaType",()=>{const n=w(null),r={pdf:{icon:"fas fa-file-pdf text-danger",badgeClass:"bg-danger",displayName:"PDF",supportedExtensions:[".pdf"]},video:{icon:"fas fa-video text-primary",badgeClass:"bg-primary",displayName:"Video",supportedExtensions:[".mp4",".avi",".mov",".mkv",".webm"]},unknown:{icon:"fas fa-question-circle text-muted",badgeClass:"bg-secondary",displayName:"Unbekannt",supportedExtensions:[]}},o=t(()=>n.value?d(n.value):"unknown"),i=t(()=>o.value==="pdf"),s=t(()=>o.value==="video"),l=t(()=>o.value==="unknown"),c=t(()=>{if(n.value){if(i.value)return p(n.value);if(s.value)return f(n.value)}}),v=t(()=>r[o.value]);function d(e){if(e.mediaType&&e.mediaType!=="unknown")return e.mediaType;if(e.videoUrl||e.reportMeta?.file&&!e.reportMeta?.pdfUrl)return"video";if(e.pdfStreamUrl||e.pdfUrl||e.reportMeta?.pdfUrl)return"pdf";if(e.filename){const u=e.filename.toLowerCase().split(".").pop();if(u){if(r.video.supportedExtensions.some(a=>a.includes(u)))return"video";if(r.pdf.supportedExtensions.some(a=>a.includes(u)))return"pdf"}}return"unknown"}function p(e){return e.pdfStreamUrl||e.pdfUrl||e.reportMeta?.pdfUrl}function f(e){return e.videoUrl||e.reportMeta?.file}function g(e){n.value=e}function y(e){n.value&&(n.value={...n.value,...e})}function m(){n.value=null}function C(e){return r[e]}function M(e){const u=`.${e.toLowerCase().split(".").pop()}`;return Object.values(r).some(a=>a.supportedExtensions.includes(u))}function U(e){return r[e]?.icon||r.unknown.icon}function x(e){return r[e]?.badgeClass||r.unknown.badgeClass}return{currentItem:n,currentMediaType:o,isPdf:i,isVideo:s,isUnknown:l,currentMediaUrl:c,currentMediaConfig:v,detectMediaType:d,getPdfUrl:p,getVideoUrl:f,setCurrentItem:g,updateCurrentItem:y,clearCurrentItem:m,getMediaTypeConfig:C,isSupportedExtension:M,getMediaTypeIcon:U,getMediaTypeBadgeClass:x}});export{k as u};
