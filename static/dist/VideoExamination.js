import{d as ve,u as Ze,s as H,e as y,f as He,g as Oe,h as b,w as B,i as Je,c as i,j as v,a,k as h,t as r,l as de,v as ue,F as O,m as J,n as m,b as me,p as ce,q as Qe,x as Ye,y as et,z as j,A as F,o as l,_ as tt}from"./main.js";import{u as at,f as c,g as Q}from"./videoStore.js";import"./annotationStore.js";import{u as nt}from"./mediaTypeStore.js";import{R as ot}from"./RequirementGenerator.js";import{T as lt}from"./Timeline.js";import"./patientStore.js";import"./PatientAdder2.js";const st={class:"container-fluid py-4"},it={key:0,class:"alert alert-danger alert-dismissible fade show",role:"alert"},rt={key:1,class:"alert alert-success alert-dismissible fade show",role:"alert"},dt={class:"row"},ut={class:"col-lg-12"},ct={class:"card"},vt={class:"card-body"},mt={class:"mb-3"},gt=["disabled"],bt={value:null},ft=["value"],pt={key:0,class:"text-muted"},yt={key:0,class:"text-center text-muted py-5"},ht={key:0,class:"alert alert-info mt-2"},St={key:1,class:"text-center text-muted py-5"},wt={class:"mt-2"},Vt={key:2,class:"video-container"},kt=["src"],_t={key:3,class:""},$t=["disabled"],xt={key:4,class:"timeline-wrapper mt-3"},Lt=["title"],Tt={key:5,class:"debug-info mt-2"},Et={class:"text-muted"},Ct={key:6,class:"timeline-controls mt-4"},zt={class:"d-flex align-items-center gap-3"},Mt={class:"d-flex align-items-center"},Dt={class:"d-flex align-items-center gap-2"},Nt=["disabled"],Ut={class:"ms-3 text-muted"},At={key:0,class:"alert alert-info mt-2 mb-0"},Pt={key:0},Rt={key:1},It={key:0,class:"mt-3"},Bt={class:"col-lg-12"},jt={class:"card"},Ft={class:"card-header pb-0"},qt={key:0,class:"text-muted"},Kt={key:1,class:"mt-2"},Wt={class:"alert alert-info alert-sm mb-0"},Gt={class:"card-body p-0",style:{"max-height":"80vh","overflow-y":"auto"}},Xt={key:1,class:"text-center text-muted py-5 px-3"},Zt={key:0,class:"card mt-3"},Ht={class:"card-body","data-cy":"saved-examinations"},Ot={class:"list-group list-group-flush"},Jt={class:"text-muted"},Qt=["onClick"],Yt=["onClick"],ea=ve({__name:"VideoExaminationAnnotation",setup(ge){const q=Ze(),Y=et(),be=Number(q.query.video??"")||null,s=at(),K=nt(),{videoList:ee,videoStreamUrl:te,timelineSegments:na}=H(s),fe=y(()=>ee.value.videos);He();const{allSegments:R}=H(s),pe=Oe(),{overview:ye}=H(pe),he=y(()=>[...s.labels||[]]);function ae(t){return ye.value.find(n=>n.id===t&&n.mediaType==="video")?.anonymizationStatus==="done"}const o=b(be),w=b(0),g=b(0),Se=b(50),D=b(!1),x=b([]),L=b([]),N=b(null),p=b(""),k=b(!1),we=b(0),ne=b(null),U=b(null),A=b(null),T=b(""),I=b(""),d=b(null),W=b(null);async function oe(){if(o.value==null){s.clearVideo(),U.value=null,A.value=null;return}if(!ae(o.value)){_(`Video ${o.value} kann nicht annotiert werden, da es noch nicht anonymisiert wurde.`),o.value=null;return}G(),X();try{await s.loadVideo(o.value),await $e(o.value),await V(xe()),await V(Le()),await V(s.fetchAllSegments(o.value)),console.log("Video fully loaded:",o.value)}catch(t){console.error("loadSelectedVideo failed",t),await V(Promise.reject(t))}}function Ve(){oe(),Y.replace({query:{video:o.value}})}B(o,oe),B(()=>q.query.video,t=>{const e=Number(t??"")||null;e!==o.value&&(o.value=e)},{immediate:!0});const E=y(()=>ee.value.videos.filter(t=>ae(t.id))),ke=y(()=>o.value!==null&&S.value!==void 0),S=y(()=>o.value?`${window.location.origin}/api/media/videos/${o.value}/?type=processed`:void 0),C=y(()=>E.value&&E.value.length>0),le=y(()=>fe.value.length===0?"Keine Videos verf√ºgbar. Bitte laden Sie zuerst Videos hoch.":E.value.length===0?"Keine anonymisierten Videos verf√ºgbar. Videos m√ºssen erst anonymisiert werden.":""),P=y(()=>o.value?R.value.filter(t=>t.videoID===o.value).map(t=>({id:t.id,label:t.label,label_display:t.label,name:t.label,startTime:t.startTime,endTime:t.endTime,avgConfidence:t.avgConfidence||0,video_id:t.videoID,label_id:t.labelID})):[]);y(()=>R.value.map(t=>({...t})));const _e=y(()=>s.segmentsByLabel),se=y(()=>o.value&&(U.value?.video_url||S.value)&&p.value&&!k.value&&g.value>0);Je(s.fetchAllVideos);async function V(t){try{return await t}catch(e){const n=e?.response?.data?.detail||e?.response?.data?.error||e?.message||String(e);T.value=n;return}}B(te,t=>{console.log("Video stream URL updated:",t)}),B(o,t=>{console.log("Selected video ID changed, setting store to:",t),typeof t=="number"?s.setCurrentVideo(t):T.value="Invalid video ID"});const G=()=>{T.value=""},X=()=>{I.value=""},z=t=>{I.value=t,setTimeout(()=>{X()},5e3)},_=t=>{T.value=t,setTimeout(()=>{G()},1e4)},$e=async t=>{if(t)try{console.log("Loading video detail for ID:",t);const e=await j.get(F(`media/videos/${t}/`));console.log("Video detail response:",e.data),U.value={video_url:e.data.video_url},A.value={duration:Number(e.data.duration??0),fps:Number(e.data.fps??25)};const n=E.value.find(u=>u.id===t);n&&(K.setCurrentItem(n),console.log("MediaStore updated with video:",t),console.log("MediaStore video URL:",K.getVideoUrl(n))),A.value.duration>0&&(g.value=A.value.duration),console.log("Video detail loaded:",U.value),console.log("Video meta loaded:",A.value),console.log("Stream source will be:",S.value)}catch(e){console.error("Error loading video detail:",e),await V(Promise.reject(e))}},xe=async()=>{if(o.value!==null)try{const t=await j.get(F(`video/${o.value}/examinations/`));L.value=t.data,x.value=t.data.map(e=>({id:`exam-${e.id}`,timestamp:e.timestamp,examination_data:e.data}))}catch(t){console.error("Error loading saved examinations:",t);const e=t?.response?.data?.error||t?.response?.data?.detail||t?.message||t.toString();e.includes("darf nicht annotiert werden")||e.includes("anonymisierung")||e.includes("anonymization")?_(`Video ${o.value} darf nicht annotiert werden, solange die Anonymisierung nicht abgeschlossen ist.`):t?.response?.status!==404&&await V(Promise.reject(t)),L.value=[],x.value=[]}},Le=async()=>{d.value&&await new Promise(t=>{const e=d.value;e.readyState>=1?(g.value=e.duration,t()):e.addEventListener("loadedmetadata",()=>{g.value=e.duration,t()},{once:!0})})},ie=async()=>{if(o.value!==null)try{await s.fetchAllSegments(o.value),console.log("Video segments loaded for video:",o.value),console.log("Timeline segments count:",R.value.length)}catch(t){console.error("Error loading video segments:",t)}},Te=()=>{d.value&&(g.value=d.value.duration,d.value.addEventListener("play",()=>{D.value=!0}),d.value.addEventListener("pause",()=>{D.value=!1}),d.value.addEventListener("ended",()=>{D.value=!1}),console.log("üé• Video loaded - Frontend"),console.log(`- Video source URL: ${S.value}`),console.log(`- Legacy stream URL: ${te.value}`),console.log(`- Video detail URL: ${U.value?.video_url}`),console.log(`- Video readyState: ${d.value.readyState}`),console.log(`- Video networkState: ${d.value.networkState}`),d.value.videoWidth&&d.value.videoHeight&&console.log(`- Video dimensions: ${d.value.videoWidth}x${d.value.videoHeight}`),g.value<10?console.warn(`‚ö†Ô∏è WARNING: Video duration seems very short (${g.value}s)`):z(`Video geladen: ${Math.round(g.value)}s Dauer`))},Ee=()=>{d.value&&(w.value=d.value.currentTime)},Ce=t=>{if(!W.value||g.value===0)return;const e=W.value.getBoundingClientRect(),f=(t.clientX-e.left)/e.width*g.value;Z(f)},ze=(...t)=>{const[e]=t;Z(e)},Me=(...t)=>{d.value&&(d.value.paused?d.value.play().catch(e=>{console.error("Error playing video:",e),_("Fehler beim Abspielen des Videos")}):d.value.pause())},De=(...t)=>{const[e]=t;ne.value=e,console.log("Segment selected:",e)},Ne=(...t)=>{const[e,n,u,f,$]=t;if(typeof e=="string"&&(e==="draft"||/^temp-/.test(e))){console.warn("[VideoExamination] Ignoring resize for draft/temp segment:",e);return}const M=typeof e=="string"?parseInt(e,10):e;if(isNaN(M)){console.warn("[VideoExamination] Invalid segment ID for resize:",e);return}$?(s.patchSegmentLocally(M,{startTime:n,endTime:u}),s.updateSegment(M,{startTime:n,endTime:u}),console.log(`‚úÖ Segment ${M} resized and saved: ${c(n)} - ${c(u)}`)):(s.patchSegmentLocally(M,{startTime:n,endTime:u}),console.log(`Preview resize segment ${M} ${f}: ${c(n)} - ${c(u)}`))},Ue=(...t)=>{const[e,n,u,f]=t;if(typeof e=="string"&&(e==="draft"||/^temp-/.test(e))){console.warn("[VideoExamination] Ignoring move for draft/temp segment:",e);return}const $=typeof e=="string"?parseInt(e,10):e;if(isNaN($)){console.warn("[VideoExamination] Invalid segment ID for move:",e);return}f?(s.patchSegmentLocally($,{startTime:n,endTime:u}),s.updateSegment($,{startTime:n,endTime:u}),console.log(`‚úÖ Segment ${$} moved and saved: ${c(n)} - ${c(u)}`)):(s.patchSegmentLocally($,{startTime:n,endTime:u}),console.log(`Preview move segment ${$}: ${c(n)} - ${c(u)}`))},Ae=(...t)=>{const[e]=t;p.value&&o.value?(console.log(`Creating segment from time selection: ${c(e.start)} - ${c(e.end)} with label: ${p.value}`),re({label:p.value,start:e.start,end:e.end})):(console.warn("Cannot create segment: no label selected or no video selected"),_("Bitte w√§hlen Sie ein Label aus, bevor Sie ein Segment erstellen."))},re=(...t)=>{const[e]=t;return new Promise(async(n,u)=>{try{o.value&&(await s.createSegment?.(o.value.toString(),e.label,e.start,e.end),z(`Segment erstellt: ${Q(e.label)}`)),n()}catch(f){await V(Promise.reject(f)),u(f)}})},Pe=(...t)=>{const[e]=t;return new Promise(async(n,u)=>{if(!e.id||typeof e.id!="number"){console.warn("Cannot delete draft or temporary segment:",e.id),n();return}try{s.removeSegment(e.id),await s.deleteSegment(e.id),z(`Segment gel√∂scht: ${Q(e.label)}`),n()}catch(f){console.error("Segment konnte nicht gel√∂scht werden:",f),await V(Promise.reject(f)),u(f)}})},Z=t=>{d.value&&t>=0&&t<=g.value&&(d.value.currentTime=t,w.value=t)},Re=()=>{console.log("Label selected:",p.value)},Ie=()=>{se.value&&(k.value=!0,we.value=w.value,s.startDraft(p.value,w.value),console.log(`Draft gestartet: ${p.value} bei ${c(w.value)}`))},Be=async()=>{if(!(!k.value||!o.value))try{s.updateDraftEnd(w.value),await s.commitDraft(),k.value=!1,p.value="",await ie(),console.log("Label-Markierung abgeschlossen")}catch(t){console.error("Error finishing label marking:",t)}},je=()=>{s.cancelDraft(),k.value=!1,p.value="",console.log("Label-Markierung abgebrochen")},Fe=t=>{Z(t.timestamp),N.value=x.value.find(e=>e.id===`exam-${t.id}`)||null},qe=async t=>{try{await j.delete(F(`examinations/${t}/`)),L.value=L.value.filter(e=>e.id!==t),x.value=x.value.filter(e=>e.id!==`exam-${t}`),N.value?.id===`exam-${t}`&&(N.value=null),z(`Untersuchung ${t} gel√∂scht`),console.log("Examination deleted:",t)}catch(e){console.error("Error deleting examination:",e),await V(Promise.reject(e))}},Ke=async()=>{if(!o.value){_("Kein Video ausgew√§hlt");return}const t=P.value.length;if(t===0){_("Keine Segmente zum Validieren vorhanden");return}if(confirm(`M√∂chten Sie alle ${t} Segmente von Video ${o.value} als validiert markieren?`))try{console.log(`üîç Validating all segments for video ${o.value}...`);const e=await j.post(F(`media/videos/${o.value}/segments/validation-status/`),{notes:`Vollst√§ndige Video-Review abgeschlossen am ${new Date().toLocaleString("de-DE")}`});console.log("‚úÖ Validation response:",e.data),z(`Erfolgreich! ${e.data.updated_count} von ${e.data.total_segments} Segmenten validiert.`),await ie()}catch(e){console.error("‚ùå Error validating video segments:",e);const n=e?.response?.data?.error||e?.message||"Unbekannter Fehler";_(`Validierung fehlgeschlagen: ${n}`)}},We=t=>{console.error("Video loading error:",t);const e=t.target;console.error("Video error details:",{error:e.error,networkState:e.networkState,readyState:e.readyState,currentSrc:e.currentSrc}),_("Fehler beim Laden des Videos. Bitte versuchen Sie es erneut.")},Ge=()=>{console.log("Video loading started for:",S.value)},Xe=()=>{console.log("Video can play, loaded successfully"),z("Video erfolgreich geladen")};return(t,e)=>(l(),i("div",st,[T.value?(l(),i("div",it,[e[3]||(e[3]=a("i",{class:"material-icons me-2"},"error",-1)),e[4]||(e[4]=a("strong",null,"Fehler:",-1)),h(" "+r(T.value)+" ",1),a("button",{type:"button",class:"btn-close",onClick:G,"aria-label":"Close"})])):v("",!0),I.value?(l(),i("div",rt,[e[5]||(e[5]=a("i",{class:"material-icons me-2"},"check_circle",-1)),e[6]||(e[6]=a("strong",null,"Erfolg:",-1)),h(" "+r(I.value)+" ",1),a("button",{type:"button",class:"btn-close",onClick:X,"aria-label":"Close"})])):v("",!0),e[30]||(e[30]=a("div",{class:"row"},[a("div",{class:"col-12"},[a("h1",null,"Video-Untersuchung Annotation"),a("p",null,"Annotieren Sie Untersuchungen w√§hrend der Videobetrachtung")])],-1)),a("div",dt,[a("div",ut,[a("div",ct,[e[20]||(e[20]=a("div",{class:"card-header pb-0"},[a("h5",{class:"mb-0"},"Video Player")],-1)),a("div",vt,[a("div",mt,[e[7]||(e[7]=a("label",{class:"form-label"},"Video ausw√§hlen:",-1)),de(a("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),onChange:Ve,class:"form-select",disabled:!C.value},[a("option",bt,r(C.value?"Bitte Video ausw√§hlen...":"Keine Videos verf√ºgbar"),1),(l(!0),i(O,null,J(E.value,n=>(l(),i("option",{key:n.id,value:n.id},r(n.original_file_name||"Video Nr. "+n.id)+" "+r("Center:"+n.centerName||"Unbekanntes Zentrum")+" "+r("Processor:"+n.processorName||"Unbekannter Prozessor"),9,ft))),128))],40,gt),[[ue,o.value,void 0,{number:!0}]]),C.value?v("",!0):(l(),i("small",pt,r(le.value),1))]),!S.value&&C.value?(l(),i("div",yt,[e[11]||(e[11]=a("i",{class:"material-icons",style:{"font-size":"48px"}},"movie",-1)),e[12]||(e[12]=a("p",{class:"mt-2"},"Video ausw√§hlen, um mit der Betrachtung zu beginnen",-1)),o.value?(l(),i("div",ht,[a("small",null,[e[8]||(e[8]=a("strong",null,"Debug:",-1)),h(" Video ID "+r(o.value)+" ausgew√§hlt",1),e[9]||(e[9]=a("br",null,null,-1)),h(" Stream-URL: "+r(S.value||"Nicht verf√ºgbar"),1),e[10]||(e[10]=a("br",null,null,-1)),h(" MediaStore URL: "+r(o.value?m(K).getVideoUrl(E.value.find(n=>n.id===o.value)):"N/A"),1)])])):v("",!0)])):v("",!0),C.value?v("",!0):(l(),i("div",St,[e[13]||(e[13]=a("i",{class:"material-icons",style:{"font-size":"48px"}},"video_library",-1)),a("p",wt,r(le.value),1),e[14]||(e[14]=a("small",null,"Videos k√∂nnen √ºber den Ordner Raw Videos hochgeladen werden. Sie m√ºssen erst anonymisiert werden, bevor sie hier angezeigt werden.",-1))])),S.value?(l(),i("div",Vt,[a("video",{ref_key:"videoRef",ref:d,"data-cy":"video-player",src:S.value,onTimeupdate:Ee,onLoadedmetadata:Te,onError:We,onLoadstart:Ge,onCanplay:Xe,controls:"",class:"w-100",style:{"max-height":"400px"}}," Ihr Browser unterst√ºtzt das Video-Element nicht. ",40,kt)])):v("",!0),S.value?v("",!0):(l(),i("div",_t,[a("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=n=>m(s).deleteVideo(o.value)),disabled:!C.value}," Video l√∂schen? ",8,$t)])),g.value>0?(l(),i("div",xt,[me(lt,{video:{duration:g.value},segments:P.value,labels:he.value,"current-time":w.value,"is-playing":D.value,"active-segment-id":ne.value,"show-waveform":!1,"selection-mode":!0,fps:Se.value,onSeek:ze,onPlayPause:Me,onSegmentSelect:De,onSegmentResize:Ne,onSegmentMove:Ue,onSegmentCreate:re,onSegmentDelete:Pe,onTimeSelection:Ae},null,8,["video","segments","labels","current-time","is-playing","active-segment-id","fps"]),a("div",{class:"simple-timeline-track mt-2",onClick:Ce,ref_key:"timelineRef",ref:W},[a("div",{class:"progress-bar",style:ce({width:`${w.value/g.value*100}%`})},null,4),(l(!0),i(O,null,J(x.value,n=>(l(),i("div",{key:n.id,class:"examination-marker",style:ce({left:`${n.timestamp/g.value*100}%`}),title:`Untersuchung bei ${m(c)(n.timestamp)}`},null,12,Lt))),128))],512)])):v("",!0),g.value>0?(l(),i("div",Tt,[a("small",Et," Timeline Debug: "+r(P.value.length)+" video-spezifische Segmente | "+r(m(R).length)+" total Segmente | Duration: "+r(m(c)(g.value))+" | Playing: "+r(D.value)+" | Store: "+r(Object.keys(_e.value).length)+" Labels ",1)])):v("",!0),o.value?(l(),i("div",Ct,[a("div",zt,[a("div",Mt,[e[16]||(e[16]=a("label",{class:"form-label mb-0 me-2"},"Neues Label setzen:",-1)),de(a("select",{"onUpdate:modelValue":e[2]||(e[2]=n=>p.value=n),onChange:Re,class:"form-select form-select-sm control-select","data-cy":"label-select"},[...e[15]||(e[15]=[Qe('<option value="" data-v-b8aacb4a>Label ausw√§hlen...</option><option value="appendix" data-v-b8aacb4a>Appendix</option><option value="blood" data-v-b8aacb4a>Blut</option><option value="diverticule" data-v-b8aacb4a>Divertikel</option><option value="grasper" data-v-b8aacb4a>Greifer</option><option value="ileocaecalvalve" data-v-b8aacb4a>Ileoz√§kalklappe</option><option value="ileum" data-v-b8aacb4a>Ileum</option><option value="low_quality" data-v-b8aacb4a>Niedrige Bildqualit√§t</option><option value="nbi" data-v-b8aacb4a>Narrow Band Imaging</option><option value="needle" data-v-b8aacb4a>Nadel</option><option value="outside" data-v-b8aacb4a>Au√üerhalb</option><option value="polyp" data-v-b8aacb4a>Polyp</option><option value="snare" data-v-b8aacb4a>Snare</option><option value="water_jet" data-v-b8aacb4a>Wasserstrahl</option><option value="wound" data-v-b8aacb4a>Wunde</option>',15)])],544),[[ue,p.value]])]),a("div",Dt,[k.value?v("",!0):(l(),i("button",{key:0,onClick:Ie,class:"btn btn-success btn-sm control-button",disabled:!se.value,"data-cy":"start-label-button"},[...e[17]||(e[17]=[a("i",{class:"material-icons"},"label",-1),h(" Label-Start setzen ",-1)])],8,Nt)),k.value?(l(),i("button",{key:1,onClick:Be,class:"btn btn-warning btn-sm control-button","data-cy":"finish-label-button"},[...e[18]||(e[18]=[a("i",{class:"material-icons"},"stop",-1),h(" Label-Ende setzen ",-1)])])):v("",!0),k.value?(l(),i("button",{key:2,onClick:je,class:"btn btn-outline-secondary btn-sm control-button"}," Abbrechen ")):v("",!0)]),a("span",Ut," Zeit: "+r(m(c)(w.value))+" / "+r(m(c)(g.value)),1)]),m(s).draftSegment?(l(),i("div",At,[a("small",null,[e[19]||(e[19]=a("i",{class:"material-icons align-middle me-1",style:{"font-size":"16px"}},"info",-1)),h(' Label "'+r(m(Q)(m(s).draftSegment.label))+'" ',1),m(s).draftSegment.end?(l(),i("span",Pt," von "+r(m(c)(m(s).draftSegment.start))+" bis "+r(m(c)(m(s).draftSegment.end)),1)):(l(),i("span",Rt," startet bei "+r(m(c)(m(s).draftSegment.start))+" - Ende beim n√§chsten Klick ",1))])])):v("",!0)])):v("",!0)])]),o.value&&P.value.length>0?(l(),i("div",It,[a("button",{class:"btn btn-success btn-lg w-100 d-flex align-items-center justify-content-center gap-2",onClick:Ke,style:{"font-size":"1.1rem",padding:"15px"}},[e[21]||(e[21]=a("i",{class:"material-icons"},"check_circle",-1)),a("span",null,"Alle Segmente validieren ("+r(P.value.length)+")",1)]),e[22]||(e[22]=a("p",{class:"text-muted text-center mt-2 mb-0",style:{"font-size":"0.9rem"}},[a("i",{class:"material-icons",style:{"font-size":"16px","vertical-align":"middle"}},"info"),h(" Markiert alle Segmente als √ºberpr√ºft und abgeschlossen ")],-1))])):v("",!0)]),a("div",Bt,[a("div",jt,[a("div",Ft,[e[25]||(e[25]=a("h5",{class:"mb-0"},[a("i",{class:"fas fa-clipboard-list me-2"}),h(" Anforderungsbasierte Annotation ")],-1)),N.value?(l(),i("small",qt," Zeitpunkt: "+r(m(c)(N.value.timestamp)),1)):v("",!0),o.value?(l(),i("div",Kt,[a("div",Wt,[e[23]||(e[23]=a("i",{class:"fas fa-info-circle me-1"},null,-1)),a("strong",null,"Video "+r(o.value)+":",1),e[24]||(e[24]=h(" Erweiterte Untersuchungsannotation mit Anforderungssets und Befunden ",-1))])])):v("",!0)]),a("div",Gt,[ke.value?(l(),Ye(ot,{key:0,class:"requirement-generator-embedded","data-cy":"requirement-generator"})):(l(),i("div",Xt,[...e[26]||(e[26]=[a("i",{class:"fas fa-video fa-3x mb-3 text-muted"},null,-1),a("h6",null,"Video-Untersuchung",-1),a("p",{class:"mb-0"},"W√§hlen Sie ein Video aus, um mit der erweiterten Annotation zu beginnen",-1),a("small",{class:"text-muted"}," Anforderungssets, Befunde und Klassifikationen werden automatisch geladen ",-1)])]))])]),L.value.length>0?(l(),i("div",Zt,[e[29]||(e[29]=a("div",{class:"card-header pb-0"},[a("h6",{class:"mb-0"},"Gespeicherte Untersuchungen")],-1)),a("div",Ht,[a("div",Ot,[(l(!0),i(O,null,J(L.value,n=>(l(),i("div",{key:n.id,class:"list-group-item d-flex justify-content-between align-items-center px-0"},[a("div",null,[a("small",Jt,r(m(c)(n.timestamp)),1),a("div",null,r(n.examination_type||"Untersuchung"),1)]),a("div",null,[a("button",{onClick:u=>Fe(n),class:"btn btn-sm btn-outline-primary me-2"},[...e[27]||(e[27]=[a("i",{class:"material-icons"},"play_arrow",-1)])],8,Qt),a("button",{onClick:u=>qe(n.id),class:"btn btn-sm btn-outline-danger"},[...e[28]||(e[28]=[a("i",{class:"material-icons"},"delete",-1)])],8,Yt)])]))),128))])])])):v("",!0)])])]))}}),ta=tt(ea,[["__scopeId","data-v-b8aacb4a"]]),aa={class:"container-fluid h-100 w-100 py-1 px-4"},va=ve({__name:"VideoExamination",setup(ge){return(q,Y)=>(l(),i("div",aa,[me(ta)]))}});export{va as default};
