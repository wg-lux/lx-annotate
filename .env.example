# EndoReg-DB .env.example
# Copy to .env for local development: cp .env.example .env
DJANGO_SETTINGS_MODULE=lx_annotate.settings_dev
# -------------------------------------------------------------------
# Core
# -------------------------------------------------------------------
# DJANGO_SETTINGS_MODULE=lx_annotate.settings_dev
TIME_ZONE=Europe/Berlin

# -------------------------------------------------------------------
# Paths (relative to repo root unless absolute)
# -------------------------------------------------------------------
STORAGE_DIR=data
ASSET_DIR=tests/assets
STATIC_URL=/static/
MEDIA_URL=/media/

# -------------------------------------------------------------------
# Feature flags
# -------------------------------------------------------------------
RUN_VIDEO_TESTS=false
SKIP_EXPENSIVE_TESTS=true

# -------------------------------------------------------------------
# Django REST Framework throttles
# -------------------------------------------------------------------
DRF_THROTTLE_USER=1000/hour
DRF_THROTTLE_ANON=1000/hour

# -------------------------------------------------------------------
# Development database (SQLite by default)
# For non-SQLite, set ENGINE and provide NAME/USER/PASSWORD/HOST/PORT
# -------------------------------------------------------------------
DEV_DB_ENGINE=django.db.backends.sqlite3
DEV_DB_NAME=dev_db.sqlite3
# DEV_DB_USER=
# DEV_DB_PASSWORD=
# DEV_DB_HOST=
# DEV_DB_PORT=

# -------------------------------------------------------------------
# Testing database (persistent SQLite by default)
# pytest uses lx_annotate.settings.test; first run: pytest --reuse-db --create-db
# -------------------------------------------------------------------
TEST_DB_ENGINE=django.db.backends.sqlite3
TEST_DB_NAME=data/tests/db/test_db.sqlite3
TEST_DISABLE_MIGRATIONS=false

# -------------------------------------------------------------------
# Production (override these in your deployment environment)
# -------------------------------------------------------------------
# DJANGO_SECRET_KEY=<generate-strong-random-value>  # REQUIRED in production; generate securely (e.g., python -c 'import secrets; print(secrets.token_urlsafe(64))'); never commit real secrets
# DJANGO_DEBUG=false  # Use false in production; set true only for local debugging
# DJANGO_ALLOWED_HOSTS=example.com,api.example.com  # Set to your domains; required in production
# DB_ENGINE=django.db.backends.postgresql  # Example: use Postgres in production
# DB_NAME=endoreg_db  # Production database name
# DB_USER=postgres  # Database user
# DB_PASSWORD=  # Database password; never commit real secrets
# DB_HOST=localhost  # Database host
# DB_PORT=5432  # Database port
# SECURE_SSL_REDIRECT=true  # Redirect HTTP->HTTPS in production; set false only locally
# SESSION_COOKIE_SECURE=true  # Secure cookies in production; set false only for local/dev
# CSRF_COOKIE_SECURE=true  # Secure CSRF cookie in production; set false only for local/dev
# SECURE_HSTS_SECONDS=31536000  # 1 year HSTS; enable only after confirming HTTPS everywhere
# SECURE_HSTS_INCLUDE_SUBDOMAINS=true  # Include subdomains for HSTS when appropriate
# SECURE_HSTS_PRELOAD=false  # Enable only if you intend to submit to preload list

# -------------------------------------------------------------------
# Optional: Keycloak token validator (used by manage.py runserver)
# -------------------------------------------------------------------
# KEYCLOAK_REALM=master
# KEYCLOAK_SERVER_URL=https://keycloak.endo-reg.net
# KEYCLOAK_CLIENT_ID=lx-frontend
# KEYCLOAK_CLIENT_SECRET=
# TOKEN_VALIDATOR_PORT=3001

# -------------------------------------------------------------------
# Overrides when embedding this app into another Django project
# -------------------------------------------------------------------
# STATIC_ROOT=/abs/path/to/staticfiles
# STORAGE_DIR=/abs/path/to/storage


TEST_RUN=False
TEST_RUN_FRAME_NUMBER=1000
RUST_BACKTRACE=1
DJANGO_FFMPEG_EXTRACT_FRAME_BATCHSIZE=500
VIDEO_ALLOW_FPS_FALLBACK=True
VIDEO_DEFAULT_FPS=50

# Caching optimization for huggingface, ollama, etc. 
# CAUTION: SETUP ASSUMES LUXNIX USER 'admin' WITH HOME /home/admin

HF_HOME=/home/admin/.cache/huggingface
HF_HUB_CACHE=/home/admin/.cache/huggingface/hub
HF_HUB_ENABLE_HF_TRANSFER=1
OLLAMA_KEEP_ALIVE=4h
OLLAMA_MODELS=/home/admin/.ollama/models
TRANSFORMERS_CACHE=/home/admin/.cache/huggingface/hub
